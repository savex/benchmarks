FROM ubuntu:20.04

MAINTAINER Alex Savatieiev (a.savex@gmail.com)

FROM ubuntu
RUN apt-get update && apt-get install -y make gcc g++ git libaio-dev libaio1 zlib1g-dev
WORKDIR /tmp/build
RUN git clone --depth 1 --branch fio-3.26 https://github.com/axboe/fio.git
WORKDIR /tmp/build/fio
RUN ./configure && make && make install

VOLUME /tmp
WORKDIR /tmp
COPY ./fio-entrypoint.sh /entrypoint.sh
ENTRYPOINT ["/entrypoint.sh"]
CMD ["fio"]
